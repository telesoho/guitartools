webpackJsonp([1],{"+oQU":function(t,e,s){"use strict";var i=s("pFYg"),n=s.n(i),r=s("k9Ku"),a=(s.n(r),s("lbvP")),o=s.n(a),h=s("iGw9"),c=s.n(h),u=s("BEQ0"),l=s.n(u);e.a={props:{autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},preload:{type:Boolean,default:!0},html5:{type:Boolean,default:!1}},data:function(){var t=this;return{sources:[],_howl:null,playing:!1,muted:!1,volume:1,rate:1,seek:0,duration:0,beLoop:!1,_polls:{seek:{id:null,interval:1,hook:function(){t.seek=t.$data._howl.seek(),t.$store.commit("setSeek",t.seek)}}},_howlEvents:[{name:"load",hook:function(){t.duration=t.$data._howl.duration()}},"loaderror",{name:"play",hook:function(){t.playing=!0}},{name:"end",hook:function(){t.playing=!1}},{name:"pause",hook:function(){t.playing=!1}},{name:"stop",hook:function(){t.playing=!1,null!=t.$data._howl&&(t.seek=t.$data._howl.seek())}},"mute",{name:"volume",hook:function(){t.volume=t.$data._howl.volume()}},{name:"rate",hook:function(){t.rate=t.$data._howl.rate()}},{name:"seek",hook:function(){t.seek=t.$data._howl.seek()}},"fade"]}},computed:{progress:function(){return 0===this.duration?0:this.seek/this.duration}},beforeDestroy:function(){this._cleanup()},watch:{playing:function(t){this.seek=this.$data._howl.seek(),t?this.$data._polls.seek.id=setInterval(this.$data._polls.seek.hook,this.$data._polls.seek.interval):clearInterval(this.$data._polls.seek.id)},sources:function(t){this._reinitialize()}},methods:{_reinitialize:function(){this._cleanup(!1),this._initialize()},_initialize:function(){var t=this;this.$data._howl=new r.Howl({src:this.sources,volume:this.volume,rate:this.rate,mute:this.muted,autoplay:this.autoplay,loop:this.loop,preload:this.preload,html5:this.html5});var e=this.$data._howl.duration();this.duration=e,e>0&&this.$emit("load"),this.$data._howlEvents=this.$data._howlEvents.map(function(e){"string"==typeof e&&(e={name:e});var s=function(s,i){"function"==typeof e.hook&&e.hook(s,i),t.$emit(e.name,s,i)};return t.$data._howl.on(e.name,s),l()({},e,{handler:s})})},_cleanup:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$data._howl&&this.stop(),c()(this.$data._polls).forEach(function(t){null!=t.id&&clearInterval(t.id)}),this.$data._howlEvents.map(function(e){if(e.handler){t.$data._howl&&t.$data._howl.off(e.name,e.handler);var s=l()({},e);return delete s.handler,s}return e}),this.$data._howl=null,this.duration=0,e&&(this.muted=!1,this.volume=1,this.rate=1)},play:function(){this.playing||this.$data._howl.play()},pause:function(){this.playing&&this.$data._howl.pause()},togglePlayback:function(){this.playing?this.$data._howl.pause():this.$data._howl.play()},stop:function(){this.$data._howl.stop()},mute:function(){this.$data._howl.mute(!0),this.muted=!0},unmute:function(){this.$data._howl.mute(!1),this.muted=!1},toggleMute:function(){this.$data._howl.mute(!this.muted),this.muted=!this.muted,this.$store.commit("setMuted",this.muted)},setVolume:function(t){if("number"!=typeof t)throw new Error("volume must be a number, got a "+(void 0===t?"undefined":n()(t))+" instead");this.$data._howl.volume(o()(t,0,1))},setRate:function(t){if("number"!=typeof t)throw new Error("rate must be a number, got a "+(void 0===t?"undefined":n()(t))+" instead");this.$data._howl.rate(o()(t,.5,4))},toggleLoop:function(){this.beLoop=!this.beLoop,this.$data._howl.loop(this.beLoop),this.$store.commit("setLoop",this.beLoop)},setSeek:function(t){if("number"!=typeof t)throw new Error("seek must be a number, got a "+(void 0===t?"undefined":n()(t))+" instead");this.$data._howl.seek(o()(t,0,this.duration))},setProgress:function(t){if("number"!=typeof t)throw new Error("progress must be a number, got a "+(void 0===t?"undefined":n()(t))+" instead");this.setSeek(o()(t,0,1)*this.duration)}}}},"18/U":function(t,e){},"3iHm":function(t,e,s){"use strict";function i(t){for(var e in l)for(var s in l[e].chords)if(s===t)return l[e].chords[s];var i=t.split(":"),r=function(t){var e=99,s="N";for(var i in d)for(var n in d[i])if(n===t&&d[i][n]<e){e=d[i][n],s=i;break}return s}(i[0]),a=r+":"+i[1];return n(i[0],r,a)}function n(t,e,s){e=e.toUpperCase();var i=d[e][t],n=m[s];return{name:t+n.name,chord:n.chord,position:i,position_text:n.position_text,bars:n.bars}}function r(t,e){return a(t,i(e))}function a(t,e){var s=u(t,60,60),i=new h.a(s,10,0,50,60);i.setChord(e.name,e.chord,e.position,e.bars,e.position_text,[]),i.draw(),-1===t.className.indexOf("rendered")&&(t.className+=" rendered")}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t||document,c.each(t.getElementsByClassName("chord"),function(t){!1===e&&t.className.indexOf("rendered")>-1||(!0===e&&(t.innerHTML=""),r(t,t.getAttribute("chord")))})}var h=s("lRUz"),c=s("rdLu"),u=(s.n(c),s("s6bQ")),l=[{section:"Open Chords",description:"These chords are played in open position, and generally\n                 include open strings.",chords:{N:{name:"",chord:[],position:0,bars:[]},"C:maj":{name:"C",chord:[[1,0],[2,1],[3,0],[4,2],[5,3]],position:0,bars:[]},"D:maj":{name:"D",chord:[[1,2],[2,3],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:maj":{name:"E",chord:[[1,0],[2,0],[3,1],[4,2],[5,2],[6,0]],position:0,bars:[]},"G:maj":{name:"G",chord:[[1,3],[2,3],[3,0],[4,0],[5,2],[6,3]],position:0,bars:[]},"A:maj":{name:"A",chord:[[1,0],[2,2],[3,2],[4,2],[5,0],[6,"x"]],position:0,bars:[]},"D:min":{name:"Dm",chord:[[1,1],[2,3],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:min":{name:"Em",chord:[[1,0],[2,0],[3,0],[4,2],[5,2],[6,0]],position:0,bars:[]},"A:min":{name:"Am",chord:[[1,0],[2,1],[3,2],[4,2],[5,0],[6,"x"]],position:0,bars:[]},"C:7":{name:"C7",chord:[[1,0],[2,1],[3,3],[4,2],[5,3],[6,"x"]],position:0,bars:[]},"D:7":{name:"D7",chord:[[1,2],[2,1],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:7":{name:"E7",chord:[[1,0],[2,3],[3,1],[4,0],[5,2],[6,0]],position:0,bars:[]},"G:7":{name:"G7",chord:[[1,1],[2,0],[3,0],[4,0],[5,2],[6,3]],position:0,bars:[]},"A:7":{name:"A7",chord:[[1,0],[2,2],[3,0],[4,2],[5,0],[6,"x"]],position:0,bars:[]},"D:min7":{name:"Dm7",chord:[[1,1],[2,1],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:min7":{name:"Em7",chord:[[1,0],[2,3],[3,0],[4,2],[5,2],[6,0]],position:0,bars:[]},"A:min7":{name:"Am7",chord:[[1,0],[2,1],[3,0],[4,2],[5,0],[6,"x"]],position:0,bars:[]}}}],m={"E:maj":{name:"",chord:[[3,2],[4,3],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:min":{name:"m",chord:[[4,3],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:7":{name:"7",chord:[[2,4],[3,2],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:min7":{name:"m7",chord:[[2,4],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:maj7":{name:"maj7",chord:[[1,"x"],[2,1],[3,2],[4,2],[5,"x"],[6,1]]},"E:dim":{name:"dim",chord:[[1,"x"],[3,2],[5,"x"],[6,2]],position_text:1,bars:[{from_string:4,to_string:2,fret:1}]},"E:min7b5":{name:"m7b5",chord:[[1,"x"],[2,1],[3,2],[4,2],[5,"x"],[6,2]],position_text:1},"E:sus4":{name:"sus4",chord:[],bars:[{from_string:6,to_string:1,fret:1},{from_string:5,to_string:3,fret:3}]},"E:7sus4":{name:"7sus4",chord:[[3,3],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:13":{name:"13",chord:[[1,"x"],[2,4],[3,3],[4,2],[5,"x"],[6,2]],position_text:1},"A:maj":{name:"",chord:[[2,3],[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:min":{name:"m",chord:[[2,2],[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:7":{name:"7",chord:[[2,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:min7":{name:"m7",chord:[[2,2],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:min7b5":{name:"m7b5",chord:[[2,2],[4,2],[6,"x"]],bars:[{from_string:5,to_string:3,fret:1}]},"A:dim":{name:"dim",chord:[[1,"x"],[2,3],[3,1],[4,3],[5,2],[6,"x"]],position_text:1},"A:maj7":{name:"maj7",chord:[[2,3],[3,2],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:sus2":{name:"sus2",chord:[[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:sus4":{name:"sus4",chord:[[2,4],[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:7sus4":{name:"7sus4",chord:[[2,4],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:9":{name:"9",chord:[[1,"x"],[2,2],[3,2],[4,1],[5,2],[6,"x"]],position_text:1},"A:7b9":{name:"7b9",chord:[[1,"x"],[2,1],[3,2],[4,1],[5,2],[6,"x"]],position_text:1},"A:7#9":{name:"7#9",chord:[[1,"x"],[2,3],[3,2],[4,1],[5,2],[6,"x"]],position_text:1},"A:13":{name:"13",chord:[[1,4],[2,4],[3,2],[4,4],[5,2],[6,"x"]],position_text:1}},d={E:{A:5,"A#":6,Bb:6,B:7,C:8,"C#":9,Db:9,D:10,"D#":11,Eb:11,E:12,F:1,"F#":2,Gb:2,G:3,"G#":4,Ab:4},A:{A:12,"A#":1,Bb:1,B:2,C:3,"C#":4,Db:4,D:5,"D#":6,Eb:6,E:7,F:8,"F#":9,Gb:9,G:10,"G#":11,Ab:11}};e.a=o},"4xuI":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"lyric",staticClass:"lyricWrap",style:{height:t.lyricHeight+"px"}},[s("ul",{staticClass:"scroller"},[s("p",{staticClass:"lyricRow"},[s("H1",[t._v("歌曲名："+t._s(t.title))])],1),t._v(" "),s("p",{staticClass:"lyricRow"},[t._v("演唱："+t._s(t.artist))]),t._v(" "),s("p",{staticClass:"lyricRow"},[t._v("变调夹："+t._s(t.capo))]),t._v(" "),t._l(t.lyricHtml,function(e){return s("LyricRow",{directives:[{name:"touch",rawName:"v-touch:press",value:t.playFromHere,expression:"playFromHere",arg:"press"},{name:"touch",rawName:"v-touch:swipeleft",value:t.onSwipeLeft,expression:"onSwipeLeft",arg:"swipeleft"},{name:"touch",rawName:"v-touch:swiperight",value:t.onSwipeRight,expression:"onSwipeRight",arg:"swiperight"}],key:e.time,staticClass:"lyricRow",attrs:{lyricData:e}})}),t._v(" "),s("p",{staticClass:"lyricRow"},[t._v("-- 让子弹先飞一会儿 --")])],2)])},n=[],r={render:i,staticRenderFns:n};e.a=r},"5h9E":function(t,e,s){"use strict";function i(t){s("GltB")}var n=s("syOU"),r=s("4xuI"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},"75He":function(t,e,s){"use strict";function i(t){s("oS84")}var n=s("M5N9"),r=s("tR/1"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},"7WL3":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("AudioPlayer",{attrs:{songSrc:t.songSrc,defaultSongId:t.defaultSongId,lyricSrc:t.lyricSrc,chordSrc:t.chordSrc}})],1)},n=[],r={render:i,staticRenderFns:n};e.a=r},BZTZ:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blooming-menu__container"},[s("div",{directives:[{name:"touch",rawName:"v-touch:press",value:t.onOpen,expression:"onOpen",arg:"press"}],staticClass:"blooming-menu__main-container"},[t._t("main")],2),t._v(" "),s("ul",{staticClass:"blooming-menu__items"},[t._t("BloomItems")],2)])},n=[],r={render:i,staticRenderFns:n};e.a=r},Be8m:function(t,e,s){"use strict";function i(t){s("eutn")}var n=s("jsF3"),r=s("zOOX"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},C46h:function(t,e,s){"use strict";var i=s("ECwB"),n=s("QOex");e.a={name:"BloomItem",mixins:[i.a,n.a]}},CY6l:function(t,e,s){"use strict";e.a={props:{chord:{}},computed:{getStyle:function(){var t=100*this.$store.state.seek;if(t>this.chord.start&&t<=this.chord.end){return{backgroundPosition:(100*((t-this.chord.start)/(this.chord.end-this.chord.start))).toString()+"%"}}return{}},isCurrent:function(){var t=100*this.$store.state.seek;return t>this.chord.start&&t<=this.chord.end}}}},ECwB:function(t,e,s){"use strict";var i=s("QOex"),n=s("A5qe"),r=s.n(n);e.a={name:"MenuItem",mixins:[i.a],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1,state:"close"}},mounted:function(){var t=this;this.$on("on-update-active-name",function(e){t.name===e?t.active=!0:t.active=!1}),this.$on("onOpenStateChanged",function(e){t.state=e?"open":"close",e?r()(t.animeParams.expand):r()(t.animeParams.fold)}),this.$on("setAnime",function(e){for(var s in e)e[s].targets=t.$el;t.animeParams=e})}}},GltB:function(t,e){},Hsuh:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"blooming"}},[s("li",{staticClass:"blooming-menu__item-btn-wrapper",attrs:{state:"fold"}},[t._t("button")],2)])},n=[],r={render:i,staticRenderFns:n};e.a=r},M5N9:function(t,e,s){"use strict";e.a={name:"Icon",props:{type:String,size:[Number,String],color:String},computed:{classes:function(){return"icon icon-"+this.type},styles:function(){var t={};return this.size&&(t["font-size"]=this.size+"px"),this.color&&(t.color=this.color),t}}}},M93x:function(t,e,s){"use strict";function i(t){s("TwZW")}var n=s("xJD8"),r=s("7WL3"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("M93x"),r=s("YaEn"),a=s("wtEF"),o=s("bGai");i.a.config.productionTip=!1,i.a.use(o.a),i.a.store=a.a,document.addEventListener("touchmove",function(t){t.preventDefault()}),new i.a({el:"#app",store:a.a,router:r.a,template:"<App/>",components:{App:n.a}})},OuvD:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{attrs:{time:this.lyricData.time,focus:this.lyricData.focus}},[s("span",{staticClass:"chordWrap"},t._l(t.lyricData.chords,function(t){return s("Chord",{key:t.start,attrs:{chord:t}})})),t._v(" "),s("span",{staticClass:"lyric",domProps:{innerHTML:t._s(this.lyricData.lrcText)}})])},n=[],r={render:i,staticRenderFns:n};e.a=r},Ozai:function(t,e,s){"use strict";function i(t){s("P8Yi")}var n=s("aWYJ"),r=s("ULGO"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},P8Yi:function(t,e){},QOex:function(t,e,s){"use strict";function i(t,e,s){this.$children.forEach(function(n){n.$options.name===t?n.$emit.apply(n,[e].concat(s)):i.apply(n,[t,e].concat([s]))})}function n(t,e,s,i){var r=this;if(0===this.$children.lenght)return!1;this.$children.every(function(a,o){var h=a.$options.name;return console.log(r.$options.name,h,t),h===t&&e===o?(a.$emit.apply(a,[s].concat(i)),!1):n.apply(a,[t,e,s].concat([i]))})}e.a={methods:{dispatch:function(t,e,s){for(var i=this.$parent||this.$root,n=i.$options.name;i&&(!n||n!==t);)(i=i.$parent)&&(n=i.$options.name);i&&i.$emit.apply(i,[e].concat(s))},broadcast:function(t,e,s){i.call(this,t,e,s)},sendTo:function(t,e,s,i){console.log("sendTo",t,e,s,i),n.call(this,t,e,s,i)}}}},"Qn0/":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{class:t.classes,attrs:{type:t.htmlType,disabled:t.disabled},on:{click:t.handleClick}},[t.loading?s("Icon",{staticClass:"ivu-load-loop",attrs:{type:"load-c"}}):t._e(),t._v(" "),t.icon&&!t.loading?s("Icon",{attrs:{type:t.icon}}):t._e(),t._v(" "),t.showSlot?s("span",{ref:"slot"},[t._t("default")],2):t._e()],1)},n=[],r={render:i,staticRenderFns:n};e.a=r},RUMo:function(t,e,s){"use strict";function i(t){s("bZH/")}var n=s("C46h"),r=s("Hsuh"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},TwZW:function(t,e){},ULGO:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.wrapClasses,style:t.circleSize},[s("svg",{attrs:{viewBox:"0 0 100 100"}},[s("path",{attrs:{d:t.pathString,stroke:t.trailColor,"stroke-width":t.trailWidth,"fill-opacity":0}}),t._v(" "),s("path",{style:t.pathStyle,attrs:{d:t.pathString,"stroke-linecap":t.strokeLinecap,stroke:t.strokeColor,"stroke-width":t.strokeWidth,"fill-opacity":"0"}})]),t._v(" "),s("div",{class:t.innerClasses},[t._t("default")],2)])},n=[],r={render:i,staticRenderFns:n};e.a=r},XswV:function(t,e,s){"use strict";function i(t){s("ZAL2")}var n=s("CY6l"),r=s("yjxm"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},YRfK:function(t,e,s){"use strict";var i=s("fpYR"),n=s("RUMo");i.a.Item=n.a,e.a=i.a},YaEn:function(t,e,s){"use strict";var i=s("7+uW"),n=s("/ocq"),r=s("M93x");i.a.use(n.a);var a=new n.a({routes:[{path:"/:songid?",name:"songid",component:r.a}]});e.a=a},YtVm:function(t,e,s){"use strict";var i=s("woOf"),n=s.n(i),r=s("Zrlr"),a=s.n(r),o=s("wxAW"),h=s.n(o),c=function(){function t(){a()(this,t)}return h()(t,[{key:"parse",value:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(var i={title:"",artist:"",capo:s,lyricData:[]},r=[],a=t.split("\n"),o=0;o<a.length;o++){var h=a[o].match(/\[ti:(.*?)\]/);null!=h&&(i.title=h[1]);var c=a[o].match(/\[ar:(.*?)\]/);null!=c&&(i.artist=c[1]);var u=a[o].match(/\[capo:(.*?)\]/);null!=u&&(i.capo=parseInt(u[1])||s);var l=a[o].match(/\[(\d{2}):(\d{2})\.(\d{2,3})]/g),m=a[o].replace(/\[(\d{2}):(\d{2})\.(\d{2,3})]/g,"").replace(/^\s+|\s+$/g,"");if(null!=l)for(var d=l.length,p=0;p<d;p++){var f=/\[(\d{2}):(\d{2})\.(\d{2,3})]/.exec(l[p]),g=60*f[1]+parseInt(f[2])+parseInt(f[3])/(2===(f[3]+"").length?100:1e3);r.push({time:g,chords:[],lrcText:m.replace(/<\d+>/g,""),focus:!1,endTime:100*g})}}r.sort(function(t,e){return t.time-e.time});var v=this.parseChordData(e,i.capo),_=0,b=[],y=1;if(_<v.length){for(var x=v[_],w=r[y],q=100*r[y-1].time,C=100*w.time;y<r.length;)if(w=r[y],C=100*w.time,r[y-1].endTime=C,x.end<C){if(b.push(x),++_>=v.length)break;x=v[_]}else if(q<=x.start&&x.end<=C){if(b.push(x),++_>=v.length)break;x=v[_]}else if(x.start<C&&C<x.end){var I=n()({},x);I.end=C,b.push(I),x.start=C,q=C,y++}else x.start>=C&&(q=C,y++);r[y-1].endTime=999999999}for(;_<v.length;)b.push(v[_++]);return console.log(b),r.forEach(function(t){var e=100*t.time;b.forEach(function(s){s.start>=e&&s.start<t.endTime&&t.chords.push(s)})}),i.lyricData=r,i}catch(t){return console.log(t),i}}},{key:"getCapoKey",value:function(t,e){for(var s=["C","C#/Bb","D","D#/Eb","E","F","F#/Gb","G","G#/Ab","A","A#/Bb","B"],i=s.length,n=0;n<i&&t!==s[n]&&(2!==t.length||-1===s[n].search(t));n++);(n-=e)<0&&(n=i+n);var r=s[n];return 1===r.length?r:r.substr(0,2)}},{key:"getShortNameOfChord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("N"===t)return"Intro";var s=t.split(":"),i=this.getCapoKey(s[0],e),n=s[1];return n=n.replace("maj","").replace("min","m"),i+n}},{key:"parseChordData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=null;s="string"==typeof t?JSON.parse(t):t,this.duration=0;for(var i in s){var n=s[i];if("N"===n.chord)n.name="Intro";else{var r=n.chord.split(":"),a=this.getCapoKey(r[0],e),o=r[1];n.chord=a+":"+o;var h=o.replace("maj","").replace("min","m");n.name=a+h}}return s}}]),t}();e.a=new c},ZAL2:function(t,e){},aWYJ:function(t,e,s){"use strict";var i=s("oAV5");e.a={name:"Circle",props:{percent:{type:Number,default:0},size:{type:Number,default:120},strokeWidth:{type:Number,default:6},strokeColor:{type:String,default:"#2db7f5"},strokeLinecap:{validator:function(t){return Object(i.b)(t,["square","round"])},default:"round"},trailWidth:{type:Number,default:5},trailColor:{type:String,default:"#eaeef2"}},computed:{circleSize:function(){return{width:this.size+"px",height:this.size+"px"}},radius:function(){return 50-this.strokeWidth/2},pathString:function(){return"M 50,50 m 0,-"+this.radius+"\n                a "+this.radius+","+this.radius+" 0 1 1 0,"+2*this.radius+"\n                a "+this.radius+","+this.radius+" 0 1 1 0,-"+2*this.radius},len:function(){return 2*Math.PI*this.radius},pathStyle:function(){return{"stroke-dasharray":this.len+"px "+this.len+"px","stroke-dashoffset":(100-this.percent)/100*this.len+"px"}},wrapClasses:function(){return"ivu-chart-circle"},innerClasses:function(){return"ivu-chart-circle-inner"}}}},bGai:function(t,e,s){"use strict";var i=s("bHfy"),n=s.n(i),r=s("rjFZ"),a=s("iGUu"),o=s.n(a),h=window.devicePixelRatio||(window.matchMedia&&window.matchMedia("(min-resolution: 2dppx), (-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches?2:1)||1;e.a={install:function(t,e){console.log("install components",screen.height),t.directive("touch",r.a),t.mixin({created:function(){}}),t.prototype.$calc=function(t){return t*h},t.prototype.$screenHeight=function(){return Screen.height},t.prototype.$screenWidth=function(){return Screen.width},t.prototype.$IScroll=n.a,t.prototype.$intro=function(){return o.a.introJs.apply(o.a,arguments)}}}},bKQP:function(t,e){},bWJ8:function(t,e,s){"use strict";function i(t){s("rKZG")}var n=s("l5pQ"),r=s("Qn0/"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},"bZH/":function(t,e){},ep9m:function(t,e,s){"use strict";function i(t){var e=t.split(":"),s="N";return s=e.length>1?e[0]+e[1].replace("min","m").replace("maj",""):e[0],n(s)}function n(t){for(var e in l)for(var s in l[e].chords){var i=l[e].chords[s];if(t===i.name){var n=i.seq.split(","),r=[];for(var a in n)r.push([4-parseInt(a),n[a]]);return{name:i.name,chord:r,position:0,position_text:"",bars:[]}}}return{name:"",chord:[],position:0,position_text:"",bars:[]}}function r(t,e){return a(t,i(e))}function a(t,e){var s=u(t,60,60),i=new h.a(s,10,0,50,60);i.setChord(e.name,e.chord,e.position,e.bars,e.position_text,[]),i.draw(),-1===t.className.indexOf("rendered")&&(t.className+=" rendered")}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t||document,c.each(t.getElementsByClassName("chord"),function(t){!1===e&&t.className.indexOf("rendered")>-1||(!0===e&&(t.innerHTML=""),r(t,t.getAttribute("chord")))})}var h=s("nsTE"),c=s("rdLu"),u=(s.n(c),s("s6bQ")),l=[{section:"Open Chords",description:"These chords are played in open position, and generally\n                 include open strings.",chords:[{name:"N",seq:"0,0,0,0"},{name:"A",seq:"2,1,0,0"},{name:"A5",seq:"2,4,0,0"},{name:"A7",seq:"0,1,0,0"},{name:"A7sus",seq:"0,2,0,0"},{name:"A9",seq:"2,1,0,2"},{name:"Aaug",seq:"2,1,1,0"},{name:"Adim7",seq:"2,3,2,3"},{name:"Am",seq:"2,0,0,0"},{name:"Am7",seq:"0,0,0,0"},{name:"Am7b5",seq:"2,3,3,3"},{name:"Amaj7",seq:"1,1,0,0"},{name:"Asus",seq:"2,2,0,0"},{name:"A#",seq:"3,2,1,1"},{name:"A#7",seq:"1,2,1,1"},{name:"A#7sus",seq:"1,3,1,1"},{name:"A#9",seq:"3,2,1,3"},{name:"A#aug",seq:"3,2,2,1"},{name:"A#dim",seq:"3,1,0,1"},{name:"A#dim7",seq:"0,1,0,1"},{name:"A#m",seq:"3,1,1,1"},{name:"A#m7",seq:"1,1,1,1"},{name:"A#m7b5",seq:"1,1,0,1"},{name:"A#maj7",seq:"3,2,1,0"},{name:"A#sus",seq:"3,3,1,1"},{name:"B",seq:"4,3,2,2"},{name:"B7",seq:"4,3,2,0"},{name:"B7sus",seq:"4,4,2,0"},{name:"B9",seq:"4,3,2,4"},{name:"Baug",seq:"0,3,3,2"},{name:"Bdim",seq:"4,2,1,2"},{name:"Bdim7",seq:"1,2,1,2"},{name:"Bm",seq:"4,2,2,2"},{name:"Bm7",seq:"2,2,2,2"},{name:"Bm7b5",seq:"2,2,1,2"},{name:"Bm7b5",seq:"4,2,1,0"},{name:"Bmaj7",seq:"3,3,2,2"},{name:"Bsus",seq:"4,4,2,2"},{name:"C",seq:"0,0,0,3"},{name:"C5",seq:"0,0,3,3"},{name:"C7",seq:"0,0,0,1"},{name:"C7sus",seq:"0,0,1,1"},{name:"C9",seq:"0,2,0,3"},{name:"Caug",seq:"1,0,0,3"},{name:"Cm",seq:"0,3,3,3"},{name:"Cm7",seq:"3,3,3,3"},{name:"Cm7b5",seq:"3,3,2,3"},{name:"Cmaj7",seq:"0,0,0,2"},{name:"Csus",seq:"0,0,1,3"},{name:"C#",seq:"1,1,1,4"},{name:"C#5",seq:"1,1,4,4"},{name:"C#7",seq:"1,1,1,2"},{name:"C#7sus",seq:"1,1,2,2"},{name:"C#9",seq:"1,3,1,4"},{name:"C#dim",seq:"0,4,0,4"},{name:"C#m",seq:"1,1,0,4"},{name:"C#m7",seq:"4,4,4,4"},{name:"C#m7b5",seq:"0,1,0,2"},{name:"C#maj7",seq:"1,1,1,3"},{name:"C#sus",seq:"1,1,2,4"},{name:"D",seq:"2,2,2,0"},{name:"D7",seq:"2,2,2,3"},{name:"D7sus",seq:"2,2,3,3"},{name:"Dm",seq:"2,2,1,0"},{name:"Dm7",seq:"2,2,1,3"},{name:"Dm7b5",seq:"1,2,1,3"},{name:"Dmaj7",seq:"2,2,2,4"},{name:"Dsus",seq:"0,2,3,0"},{name:"D#",seq:"0,3,3,1"},{name:"D#7",seq:"3,3,3,4"},{name:"D#7sus",seq:"3,3,4,4"},{name:"D#9",seq:"0,3,1,1"},{name:"D#dim",seq:"2,3,2,0"},{name:"D#m",seq:"3,3,2,1"},{name:"D#m7",seq:"3,3,2,4"},{name:"D#m7b5",seq:"2,3,2,4"},{name:"D#sus",seq:"1,3,4,1"},{name:"E",seq:"4,4,4,2"},{name:"E5",seq:"4,4,0,2"},{name:"E7",seq:"1,2,0,2"},{name:"E7sus",seq:"4,2,0,0"},{name:"E9",seq:"1,4,2,2"},{name:"Edim",seq:"0,4,0,1"},{name:"Em",seq:"0,4,0,2"},{name:"Em7",seq:"0,2,0,2"},{name:"Em7b5",seq:"0,2,0,1"},{name:"Emaj7",seq:"1,3,0,2"},{name:"Esus",seq:"4,4,0,0"},{name:"F",seq:"2,0,1,0"},{name:"F7",seq:"2,3,1,3"},{name:"F7sus",seq:"3,3,1,3"},{name:"F9",seq:"0,0,1,0"},{name:"Fm",seq:"1,0,1,3"},{name:"Fm7",seq:"1,3,1,3"},{name:"Fm7b5",seq:"1,3,1,2"},{name:"Fmaj7",seq:"2,4,1,3"},{name:"Fsus",seq:"3,0,1,1"},{name:"F#",seq:"3,1,2,1"},{name:"F#7",seq:"3,4,2,4"},{name:"F#7sus",seq:"4,4,2,4"},{name:"F#9",seq:"1,1,2,1"},{name:"F#dim",seq:"2,0,2,0"},{name:"F#m",seq:"2,1,2,0"},{name:"F#m7",seq:"2,4,2,4"},{name:"F#m7b5",seq:"2,4,2,3"},{name:"F#sus",seq:"4,1,2,2"},{name:"G",seq:"0,2,3,2"},{name:"G7",seq:"0,2,1,2"},{name:"G7sus",seq:"0,2,1,3"},{name:"G9",seq:"2,2,3,2"},{name:"Gdim",seq:"0,1,3,1"},{name:"Gm",seq:"0,2,3,1"},{name:"Gm7",seq:"0,2,1,1"},{name:"Gm7b5",seq:"0,1,1,1"},{name:"Gmaj7",seq:"0,2,2,2"},{name:"Gsus",seq:"0,2,3,3"},{name:"G#",seq:"1,3,4,3"},{name:"G#7",seq:"1,3,2,3"},{name:"G#7sus",seq:"1,3,2,4"},{name:"G#9",seq:"3,3,4,3"},{name:"G#dim",seq:"4,2,4,2"},{name:"G#m",seq:"1,3,4,2"},{name:"G#m7",seq:"1,3,2,2"},{name:"G#m7b5",seq:"1,2,2,2"},{name:"G#maj7",seq:"0,3,4,3"},{name:"G#sus",seq:"1,3,4,4"}]}];e.a=o},eutn:function(t,e){},fpYR:function(t,e,s){"use strict";function i(t){s("nUok")}var n=s("nLL6"),r=s("BZTZ"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},g5L7:function(t,e,s){"use strict";function i(t){s("l+/6")}var n=s("kJme"),r=s("OuvD"),a=s("VU/8"),o=i,h=a(n.a,r.a,!1,o,null,null);e.a=h.exports},jsF3:function(t,e,s){"use strict";var i=s("+oQU"),n=s("5h9E"),r=s("bWJ8"),a=s("75He"),o=s("YRfK"),h=s("Ozai"),c=s("18/U"),u=(s.n(c),s("bKQP")),l=(s.n(u),s("oAV5")),m=s("7+uW");e.a={name:"AudioPlayer",props:{songSrc:{type:Array,required:!0,validator:function(t){return t.every(function(t){return"string"==typeof t&&t.length>0})}},lyricSrc:[Array],chordSrc:[Array],defaultSongId:{type:Number,default:0}},mixins:[i.a],components:{Lyric:n.a,TCircle:h.a,TButton:r.a,Icon:a.a,BloomMenu:o.a,BloomItem:o.a.Item},data:function(){return{lyric:"",isHelp:!1,bloomMenuIsOpen:!1,songId:this.defaultSongId,bloomItem:[]}},mounted:function(){this.sources=[this.songSrc[this.songId]]},computed:{chordRendering:function(){return this.$store.state.chordRendering}},watch:{songId:function(t,e){this.sources=[this.songSrc[this.songId]]},chordRendering:function(t,e){!0===t?Object(l.a)(this.$refs.instrumentsBtn.$el,"fa-spin"):Object(l.d)(this.$refs.instrumentsBtn.$el,"fa-spin")}},methods:{playFromHere:function(t){this.setSeek(t)},onChangeInstruments:function(){m.a.store.commit("setChordRendering",!0),setTimeout(function(){"guitar"===m.a.store.state.instruments?m.a.store.commit("setInstruments","ukulele"):"ukulele"===m.a.store.state.instruments&&m.a.store.commit("setInstruments","guitar")},1e3)},onHelp:function(){this.$intro().setOptions({showStepNumbers:!1,showProgress:!1,showBullets:!1,hidePrev:!0,hideNext:!0,nextLabel:">",prevLabel:"<",doneLabel:"完成",skipLabel:"取消"}).start()}}}},kJme:function(t,e,s){"use strict";var i=s("XswV");e.a={props:{lyricData:{}},components:{Chord:i.a}}},"l+/6":function(t,e){},l5pQ:function(t,e,s){"use strict";var i=s("bOdI"),n=s.n(i),r=s("75He"),a=s("oAV5");e.a={name:"Button",components:{Icon:r.a},props:{type:{validator:function(t){return Object(a.b)(t,["primary","ghost","dashed","text","info","success","warning","error","default"])}},shape:{validator:function(t){return Object(a.b)(t,["circle","circle-outline"])}},size:{validator:function(t){return Object(a.b)(t,["small","large","default"])}},loading:Boolean,disabled:Boolean,htmlType:{default:"button",validator:function(t){return Object(a.b)(t,["button","submit","reset"])}},icon:String,long:{type:Boolean,default:!1}},data:function(){return{showSlot:!0}},computed:{classes:function(){var t;return["ivu-btn",(t={},n()(t,"ivu-btn-"+this.type,!!this.type),n()(t,"ivu-btn-long",this.long),n()(t,"ivu-btn-"+this.shape,!!this.shape),n()(t,"ivu-btn-"+this.size,!!this.size),n()(t,"ivu-btn-loading",null!=this.loading&&this.loading),n()(t,"ivu-btn-icon-only",!this.showSlot&&(!!this.icon||this.loading)),t)]}},methods:{handleClick:function(t){this.$emit("click",t)}},mounted:function(){this.showSlot=void 0!==this.$slots.default}}},lRUz:function(t,e,s){"use strict";var i=s("Zrlr"),n=s.n(i),r=s("wxAW"),a=s.n(r);s("s6bQ").prototype.vexLine=function(t,e,s,i){return this.path("M"+t+" "+e+"L"+s+" "+i)};var o=function(){function t(e,s,i,r,a){n()(this,t),this.paper=e,this.x=s,this.y=i,this.width=r||100,this.height=a||100,this.num_strings=6,this.num_frets=5,this.spacing=this.width/this.num_strings,this.fret_spacing=this.height/(this.num_frets+3),this.x+=this.spacing/2,this.y+=this.fret_spacing,this.metrics={circle_radius:this.width/28,text_shift_x:this.width/29,text_shift_y:this.height/29,font_size:Math.ceil(this.width/9),bar_shift_x:this.width/28,bridge_stroke_width:Math.ceil(this.height/36),chord_fill:"#444"},this.position=0,this.position_text=0,this.chord=[],this.bars=[]}return a()(t,[{key:"setNumFrets",value:function(t){return this.num_frets=t,this.fret_spacing=this.height/(this.num_frets+2),this}},{key:"setChord",value:function(t,e,s,i,n,r){return this.name=t,this.chord=e,this.position=s||0,this.position_text=n||0,this.bars=i||[],this.tuning=r||["E","A","D","G","B","E"],r===[]&&(this.fret_spacing=this.height/(this.num_frets+1)),this}},{key:"setPositionText",value:function(t){return this.position_text=t,this}},{key:"draw",value:function(){var t=this.spacing,e=this.fret_spacing;this.position<=1?this.paper.vexLine(this.x,this.y-this.metrics.bridge_stroke_width/2,this.x+t*(this.num_strings-1),this.y-this.metrics.bridge_stroke_width/2).attr("stroke-width",this.metrics.bridge_stroke_width):this.paper.text(this.x-this.spacing/2-this.metrics.text_shift_x,this.y+this.fret_spacing/2+this.metrics.text_shift_y+this.fret_spacing*this.position_text,this.position).attr("font-size",this.metrics.font_size);for(var s=0;s<this.num_strings;++s)this.paper.vexLine(this.x+t*s,this.y,this.x+t*s,this.y+e*this.num_frets);for(s=0;s<this.num_frets+1;++s)this.paper.vexLine(this.x,this.y+e*s,this.x+t*(this.num_strings-1),this.y+e*s);if(this.tuning&&this.tuning.length>0){var i=this.tuning;for(s=0;s<i.length;++s){var n=this.paper.text(this.x+this.spacing*s,this.y+(this.num_frets+1)*this.fret_spacing,i[s]);n.attr("font-size",this.metrics.font_size)}}else n=this.paper.text(this.x+(this.width-this.metrics.font_size*this.name.length)/2,this.y+(this.num_frets+1)*this.fret_spacing,this.name),n.attr("font-size",2*this.metrics.font_size);for(s=0;s<this.chord.length;++s)this.lightUp(this.chord[s][0],this.chord[s][1]);for(s=0;s<this.bars.length;++s)this.lightBar(this.bars[s].from_string,this.bars[s].to_string,this.bars[s].fret)}},{key:"lightUp",value:function(t,e){t=this.num_strings-t;var s=0;1===this.position&&1===this.position_text&&(s=this.position_text);var i=!1;"x"===e?(e=0,i=!0):e-=s;var n=this.x+this.spacing*t,r=this.y+this.fret_spacing*e;if(0===e&&(r-=this.metrics.bridge_stroke_width),i)a=this.paper.text(n,r-(this.fret_spacing-this.metrics.font_size),"X").attr({"font-size":this.metrics.font_size});else{var a=this.paper.circle(n,r-Math.floor(this.fret_spacing/2),this.metrics.circle_radius);e>0&&a.attr("fill",this.metrics.chord_fill)}return this}},{key:"lightBar",value:function(t,e,s){1===this.position&&1===this.position_text&&(s-=this.position_text);var i=this.num_strings-t,n=this.num_strings-e,r=this.x+this.spacing*i-this.metrics.bar_shift_x,a=this.x+this.spacing*n+this.metrics.bar_shift_x,o=this.y+this.fret_spacing*(s-1)+this.fret_spacing/4,h=this.y+this.fret_spacing*(s-1)+this.fret_spacing/4*3;return this.paper.rect(r,o,a-r,h-o,this.metrics.circle_radius).attr("fill",this.metrics.chord_fill),this}}]),t}();e.a=o},nLL6:function(t,e,s){"use strict";var i=s("xT/P"),n=s("QOex");e.a={name:"BloomMenu",mixins:[i.a,n.a]}},nUok:function(t,e){},nsTE:function(t,e,s){"use strict";var i=s("Zrlr"),n=s.n(i),r=s("wxAW"),a=s.n(r);s("s6bQ").prototype.vexLine=function(t,e,s,i){return this.path("M"+t+" "+e+"L"+s+" "+i)};var o=function(){function t(e,s,i,r,a){n()(this,t),this.paper=e,this.x=s,this.y=i,this.width=r||100,this.height=a||100,this.num_strings=4,this.num_frets=5,this.spacing=this.width/this.num_strings,this.fret_spacing=this.height/(this.num_frets+3),this.x+=this.spacing/2,this.y+=this.fret_spacing,this.metrics={circle_radius:this.width/28,text_shift_x:this.width/29,text_shift_y:this.height/29,font_size:Math.ceil(this.width/9),bar_shift_x:this.width/28,bridge_stroke_width:Math.ceil(this.height/36),chord_fill:"#444"},this.position=0,this.position_text=0,this.chord=[],this.bars=[]}return a()(t,[{key:"setNumFrets",value:function(t){return this.num_frets=t,this.fret_spacing=this.height/(this.num_frets+2),this}},{key:"setChord",value:function(t,e,s,i,n,r){return this.name=t,this.chord=e,this.position=s||0,this.position_text=n||0,this.bars=i||[],this.tuning=r||["G","C","E","A"],r===[]&&(this.fret_spacing=this.height/(this.num_frets+1)),this}},{key:"setPositionText",value:function(t){return this.position_text=t,this}},{key:"draw",value:function(){var t=this.spacing,e=this.fret_spacing;this.position<=1?this.paper.vexLine(this.x,this.y-this.metrics.bridge_stroke_width/2,this.x+t*(this.num_strings-1),this.y-this.metrics.bridge_stroke_width/2).attr("stroke-width",this.metrics.bridge_stroke_width):this.paper.text(this.x-this.spacing/2-this.metrics.text_shift_x,this.y+this.fret_spacing/2+this.metrics.text_shift_y+this.fret_spacing*this.position_text,this.position).attr("font-size",this.metrics.font_size);for(var s=0;s<this.num_strings;++s)this.paper.vexLine(this.x+t*s,this.y,this.x+t*s,this.y+e*this.num_frets);for(s=0;s<this.num_frets+1;++s)this.paper.vexLine(this.x,this.y+e*s,this.x+t*(this.num_strings-1),this.y+e*s);if(this.tuning&&this.tuning.length>0){var i=this.tuning;for(s=0;s<i.length;++s){var n=this.paper.text(this.x+this.spacing*s,this.y+(this.num_frets+1)*this.fret_spacing,i[s]);n.attr("font-size",this.metrics.font_size)}}else n=this.paper.text(this.x+(this.width-this.metrics.font_size*this.name.length)/2,this.y+(this.num_frets+1)*this.fret_spacing,this.name),n.attr("font-size",2*this.metrics.font_size);for(s=0;s<this.chord.length;++s)this.lightUp(this.chord[s][0],this.chord[s][1]);for(s=0;s<this.bars.length;++s)this.lightBar(this.bars[s].from_string,this.bars[s].to_string,this.bars[s].fret)}},{key:"lightUp",value:function(t,e){t=this.num_strings-t;var s=0;1===this.position&&1===this.position_text&&(s=this.position_text);var i=!1;"x"===e?(e=0,i=!0):e-=s;var n=this.x+this.spacing*t,r=this.y+this.fret_spacing*e;if(0===e&&(r-=this.metrics.bridge_stroke_width),i)a=this.paper.text(n,r-(this.fret_spacing-this.metrics.font_size),"X").attr({"font-size":this.metrics.font_size});else{var a=this.paper.circle(n,r-Math.floor(this.fret_spacing/2),this.metrics.circle_radius);e>0&&a.attr("fill",this.metrics.chord_fill)}return this}},{key:"lightBar",value:function(t,e,s){1===this.position&&1===this.position_text&&(s-=this.position_text);var i=this.num_strings-t,n=this.num_strings-e,r=this.x+this.spacing*i-this.metrics.bar_shift_x,a=this.x+this.spacing*n+this.metrics.bar_shift_x,o=this.y+this.fret_spacing*(s-1)+this.fret_spacing/4,h=this.y+this.fret_spacing*(s-1)+this.fret_spacing/4*3;return this.paper.rect(r,o,a-r,h-o,this.metrics.circle_radius).attr("fill",this.metrics.chord_fill),this}}]),t}();e.a=o},oAV5:function(t,e,s){"use strict";function i(t,e){for(var s=0;s<e.length;s++)if(t===e[s])return!0;return!1}function n(t,e){if(t.hasAttribute(e))return t.removeAttribute(e),!1}function r(t,e,s){if(t.hasAttribute(e))t.setAttribute(e,s);else{var i=document.createAttribute(e);i.value=s,t.setAttributeNode(i)}return t.getAttribute(e)}function a(t,e){if(null===t)return void console.log("ERROR: element is empty.");var s=t.className.split(/\s+/);-1===s.indexOf(e)&&(s.push(e),t.className=s.join(" "))}function o(t,e){if(null===t)return void console.log("ERROR: element is empty.");var s=t.className.split(/\s+/),i=s.indexOf(e);-1!==i&&(s.splice(i),t.className=s.join(" "))}e.b=i,e.c=n,e.e=r,e.a=a,e.d=o},oS84:function(t,e){},rKZG:function(t,e){},rjFZ:function(t,e,s){"use strict";function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function n(t){var e=t.direction;if("string"==typeof e){var s="DIRECTION_"+e.toUpperCase();h.indexOf(e)>-1&&a.a.hasOwnProperty(s)?t.direction=a.a[s]:console.warn("[vue-touch] invalid direction: "+e)}}var r=s("rxKx"),a=s.n(r),o=["tap","pinch","press","pressup","rotate","swipe","swipeleft","swiperight","swipeup","swipedown","pan","panleft","panright","panup","pandown"],h=["up","down","left","right","horizontal","vertical","all"];e.a={bind:function(t,e,s,r){t.hammer||(t.hammer=new a.a.Manager(t));var h=t.hammer,c=e.arg;c||console.warn("[vue-touch] event type argument is required.");for(var u=0;u<o.length;u++)if(0===c.indexOf(o[u])){var l=o[u];break}if(!l)return void console.warn("[vue-touch] invalid event type: "+c);var m=h.get(l);m||(m=new(a.a[i(l)]),m.recognizeWith(h.recognizers),h.add(m));var d=t.hammerOptions&&t.hammerOptions[l];d&&(n(d),m.set(d)),t.handler&&h.off(c,t.handler),"function"!=typeof e.value?(t.handler=null,console.warn("[vue-touch] invalid handler function for v-touch: ",e.value)):h.on(c,t.handler=e.value)},inserted:function(t,e){},update:function(t,e,s,i){},unbind:function(t,e){t.hammer&&t.hammer.destroy()}}},syOU:function(t,e,s){"use strict";function i(t){for(;t&&!t.getAttribute("time");)t=t.parentElement;return t}var n=s("ep9m"),r=s("3iHm"),a=s("mtWM"),o=s.n(a),h=s("YtVm"),c=s("rdLu"),u=s.n(c),l=s("oAV5"),m=s("g5L7"),d=s("7+uW");e.a={props:{lyricSrc:[String],chordSrc:[String],defaultCapo:{type:Number,default:0},seek:Number,duration:Number,height:{type:Number,default:screen.height}},components:{LyricRow:m.a},data:function(){return{focusIndex:0,title:"",artist:"",capo:0,lyricData:[{time:0,chords:[],lrcText:"",focus:!1}],repeat:{startIndex:-1,endIndex:-1}}},created:function(){this.loadLyric(this.lyricSrc,this.chordSrc)},mounted:function(){if(!this.iscroll){var t=this.$IScroll;this.iscroll=new t(this.$refs.lyric,{mouseWheel:!0,scrollbars:!0})}},computed:{instruments:function(){return this.$store.state.instruments},lyricHtml:function(){return this.lyricData},lyricHeight:function(){return isNaN(window.innerHeight)?window.clientHeight:window.innerHeight}},watch:{instruments:function(t,e){this.renderChords(!0),d.a.store.commit("setChordRendering",!1)},seek:function(t,e){null===this.focusIndex&&(this.focusIndex=0);var s=this.lyricData[this.focusIndex].time;if(-1!==this.repeat.endIndex&&-1!==this.repeat.startIndex&&(this.focusIndex<this.repeat.startIndex||this.focusIndex>this.repeat.endIndex))return this.focusIn(this.repeat.startIndex),void this.$emit("playFromHere",this.lyricData[this.repeat.startIndex].time);if(Math.abs(t-s)>1)for(var i=this.lyricData.length-1;i>=0;i--){var n=this.lyricData[i];if(t>=n.time)return this.focusIn(i)}}},updated:function(){this.renderChords()},methods:{getNextLyricTime:function(t){for(var e=this.lyricData.length-1;e>0;e--){if(t>=this.lyricData[e].time){return e+1===this.lyricDat.length?this.duration:this.lyricData[e].time}}},getElementByTime:function(t){var e=".lyricRow[time='"+t+"']",s=this.$refs.lyric.querySelector(e);return s||(console.log("ERROR: Cannot find the time in lyric"),null)},scrollTo:function(t){if(null!==t){var e=this.getElementByTime(t);this.iscroll.scrollToElement(e,1e3,null,-100,this.$IScroll.utils.ease.circular)}},focusIn:function(t){t<0||t>=this.lyricData.length||this.focusIndex===t||(null!==this.focusIndex&&(this.lyricData[this.focusIndex].focus=!1),this.lyricData[t].focus=!0,this.focusIndex=t,this.scrollTo(this.lyricData[t].time))},loadLyric:function(t,e){var s=this;return o.a.get(t).then(function(t){var i=t.data;s.focusIndex=null,o.a.get(e).then(function(t){var e=h.a.parse(i,t.data,s.defaultCapo);console.log(e),s.title=e.title,s.artist=e.artist,s.capo=e.capo,document.title=s.title,s.lyricData=e.lyricData}).catch(function(t){console.log("ERROR: load chord failed",t),s.lyricData=h.a.parse(i,"")})}).catch(function(t){console.log("ERROR: load lyric failed",t);s.lyricData=h.a.parse("[00:00.00]Not available","")})},setAttributeByTime:function(t,e,s){var i=".lyricRow[time='"+t+"']",n=this.$refs.lyric.querySelector(i);if(!n)return void console.log("ERROR: Cannot find the time in lyric");l.e(n,e,s)},removeAttributeByTime:function(t,e){var s=".lyricRow[time='"+t+"']",i=this.$refs.lyric.querySelector(s);if(!i)return void console.log("ERROR: Cannot find the time in lyric");l.c(i,e)},showRepeat:function(){if(-1!==this.repeat.startIndex){if(-1===this.repeat.endIndex)return void this.setAttributeByTime(this.lyricData[this.repeat.startIndex].time,"repeat",!1);for(var t=this.repeat.startIndex;t<=this.repeat.endIndex;t++)this.setAttributeByTime(this.lyricData[t].time,"repeat",!0)}},setNewRepeat:function(t){this.clearAttrib("repeat"),this.repeat=t,this.showRepeat()},onSwipeRight:function(t){var e=i(t.target);if(e){var s=Number(e.getAttribute("time")),n=u.a.findIndex(this.lyricData,{time:s});if(-1===n)return void console.log("ERROR: Cannot found index of element time");var r=this.repeat;-1===r.startIndex?r.startIndex=n:-1===r.endIndex?(r.endIndex=n,r.endIndex<r.startIndex&&(r.endIndex=r.startIndex,r.startIndex=n)):n<r.startIndex?r.startIndex=n:n>r.endIndex?r.endIndex=n:n<=r.endIndex&&(r.startIndex=n),this.setNewRepeat(r)}},clearAttrib:function(t){for(var e=0;e<this.lyricData.length;e++){var s=this.lyricData[e].time;this.removeAttributeByTime(s,t)}},onSwipeLeft:function(t){this.clearAttrib("repeat"),this.repeat.startIndex=-1,this.repeat.endIndex=-1},playFromHere:function(t){var e=i(t.target);if(e){var s=e.getAttribute("time"),n=Number(s);this.$emit("playFromHere",n)}},renderChords:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.lyricData.length>0&&("ukulele"===this.$store.state.instruments?Object(n.a)(this.$refs.lyric,t):"guitar"===this.$store.state.instruments&&Object(r.a)(this.$refs.lyric,t),this.iscroll.refresh())}}}},"tR/1":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{class:t.classes,style:t.styles})},n=[],r={render:i,staticRenderFns:n};e.a=r},wtEF:function(t,e,s){"use strict";var i=s("7+uW"),n=s("NYxO");i.a.use(n.a);var r=new n.a.Store({state:{seek:0,muted:!1,beLoop:!1,instruments:"guitar",chordRendering:!1},mutations:{setChordRendering:function(t,e){this.state.chordRendering=e},setInstruments:function(t,e){this.state.instruments=e},setSeek:function(t,e){this.state.seek=e},setMuted:function(t,e){this.state.muted=e},setLoop:function(t,e){this.state.beLoop=e}}});e.a=r},xJD8:function(t,e,s){"use strict";var i=s("Be8m");e.a={name:"app",data:function(){return{songSrc:["https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/千住明-涙そうそう.mp3","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/島唄.mp3","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/風来坊.mp3","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/Hoedown-Throwdown.mp3","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/Let It Go.mp3","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/借我.mp3","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/小幸运.mp3"],lyricSrc:["https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/千住明-涙そうそう.lrc","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/島唄.xtrc","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/風来坊.xtrc","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/Hoedown-Throwdown.xlrc","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/Let It Go.xlrc","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/借我.trc","https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/小幸运.trc"],chordSrc:[{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/千住明-涙そうそう.chord.json",capo:3},{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/島唄.chord.json",capo:1},{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/風来坊.chord.json",capo:0},{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/Hoedown-Throwdown.chord.json",capo:0},{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/Let It Go.chord.json",capo:0},{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/借我.chord.json",capo:0},{src:"https://raw.githubusercontent.com/telesoho/guitartools/master/docs/static/小幸运.chord.json",capo:0}]}},computed:{defaultSongId:function(){var t=parseInt(this.$route.params.songid);return t||(t=0),t}},components:{AudioPlayer:i.a},methods:{},mounted:function(){}}},"xT/P":function(t,e,s){"use strict";function i(t){return t*(Math.PI/180)}e.a={name:"BloomMenu",props:{startAngle:{type:Number,default:180},endAngle:{type:Number,default:270},radius:{type:Number,default:50},itemAnimationDelay:{type:Number,default:40},animationDuration:{type:Number,default:100}},mounted:function(){if(console.log("mounted",this.$options.name),!this.$slots.BloomItems)return void console.log("ERROR: you must define some item.");this.isOpen=!1;for(var t=(this.endAngle-this.startAngle)/(this.$slots.BloomItems.length-1),e=this.startAngle,s=0;s<this.$slots.BloomItems.length;s++){var n=this.radius*Math.cos(i(e)),r=this.radius*Math.sin(i(e)),a=Number(n.toFixed(2)),o=Number(r.toFixed(2)),h=1.2*a,c=1.2*o,u=[{value:0,duration:0},{value:h,duration:.7*this.animationDuration},{value:a,duration:.3*this.animationDuration,easing:"easeOutBack"}],l=[{value:0,duration:0},{value:c,duration:.7*this.animationDuration},{value:o,duration:.3*this.animationDuration,easing:"easeOutBack"}],m=[{value:a,duration:0},{value:h,duration:.7*this.animationDuration},{value:0,duration:.3*this.animationDuration,easing:"easeOutBack"}],d=[{value:o,duration:0},{value:c,duration:.7*this.animationDuration},{value:0,duration:.3*this.animationDuration,easing:"easeOutBack"}];this.$emit.apply(this.$slots.BloomItems[s].componentInstance,["setAnime"].concat({expand:{translateX:u,translateY:l,delay:s*this.itemAnimationDelay},fold:{translateX:m,translateY:d,delay:s*this.itemAnimationDelay}})),e+=t}},updated:function(){},methods:{onOpen:function(){var t=this;this.isBeingAnimated||(this.isOpen=!this.isOpen,this.isBeingAnimated=!0,setTimeout(function(){t.isBeingAnimated=!1},1e3),this.broadcast("BloomItem","onOpenStateChanged",this.isOpen))}}}},yjxm:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"chord",style:t.getStyle,attrs:{current:t.isCurrent,start:t.chord.start,end:t.chord.end,chord:t.chord.chord}})])},n=[],r={render:i,staticRenderFns:n};e.a=r},zOOX:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"left-corner"},[t._v("telesoho")]),t._v(" "),s("Lyric",{attrs:{"data-intro":"长按歌词：跳转到该歌词处<br>右划歌词一次：选择重复播放范围的起始歌词<br>右划歌词二次：选择重复播放范围的结束歌词<br>左划歌词：取消播放范围",chordSrc:this.chordSrc[this.songId].src,defaultCapo:this.chordSrc[this.songId].capo,lyricSrc:this.lyricSrc[this.songId],seek:t.seek,duration:t.duration},on:{playFromHere:t.playFromHere}}),t._v(" "),s("BloomMenu",{ref:"menu"},[s("TCircle",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.togglePlayback,expression:"togglePlayback",arg:"tap"}],attrs:{slot:"main",percent:100*t.progress,size:50,"trail-width":10,"stroke-width":10,"data-disable-interaction":"false","data-highlightClass":"intro-highlight","data-tooltipClass":"intro-tooltip-play","data-intro":"播放按钮<BR>长按：显示/隐藏菜单<br>点击：播放/暂停"},slot:"main"},[s("Icon",{class:0===this.duration?"fa-spin":"",attrs:{size:20,type:t.playing?"pause":"play"}})],1),t._v(" "),s("BloomItem",{ref:"loop",attrs:{slot:"BloomItems",name:"loop","data-intro":"循环方式按钮<BR>点击：循环播放/单曲播放","data-tooltipClass":"intro-tooltip-loop"},slot:"BloomItems"},[s("TButton",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.toggleLoop,expression:"toggleLoop",arg:"tap"}],staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:this.$store.state.beLoop?"loop":"stop"},slot:"button"})],1),t._v(" "),s("BloomItem",{ref:"muted",attrs:{slot:"BloomItems",name:"muted","data-intro":"静音按钮<BR>点击：静音/非静音","data-tooltipClass":"intro-tooltip-muted"},slot:"BloomItems"},[s("TButton",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.toggleMute,expression:"toggleMute",arg:"tap"}],staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:this.$store.state.muted?"volume-off":"volume-on"},slot:"button"})],1),t._v(" "),s("BloomItem",{ref:"instruments",attrs:{slot:"BloomItems",name:"instruments","data-intro":"乐器切换按钮<BR>点击：切换和弦显示方式为吉他或尤克里里","data-tooltipClass":"intro-tooltip-instruments"},slot:"BloomItems"},[s("TButton",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.onChangeInstruments,expression:"onChangeInstruments",arg:"tap"}],ref:"instrumentsBtn",staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:this.$store.state.instruments},slot:"button"})],1),t._v(" "),s("BloomItem",{ref:"help",attrs:{slot:"BloomItems",name:"help","data-intro":"帮助按钮<BR>点击：显示帮助","data-tooltipClass":"intro-tooltip-help"},slot:"BloomItems"},[s("TButton",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.onHelp,expression:"onHelp",arg:"tap"}],staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:"help"},slot:"button"})],1)],1)],1)},n=[],r={render:i,staticRenderFns:n};e.a=r}},["NHnr"]);
//# sourceMappingURL=app.00a530b53525a8ea4e00.js.map