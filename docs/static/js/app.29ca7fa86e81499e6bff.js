webpackJsonp([1],{"+nRZ":function(t,e){},"+oQU":function(t,e,i){"use strict";var n=i("pFYg"),s=i.n(n),o=i("k9Ku"),r=(i.n(o),i("lbvP")),a=i.n(r),h=i("iGw9"),c=i.n(h),l=i("BEQ0"),u=i.n(l);e.a={props:{sources:{type:Array,required:!0,validator:function(t){return t.every(function(t){return"string"==typeof t&&t.length>0})}},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},preload:{type:Boolean,default:!0},html5:{type:Boolean,default:!1}},data:function(){var t=this;return{_howl:null,playing:!1,muted:!1,volume:1,rate:1,seek:0,duration:0,beLoop:!1,_polls:{seek:{id:null,interval:1,hook:function(){t.seek=t.$data._howl.seek()}}},_howlEvents:[{name:"load",hook:function(){t.duration=t.$data._howl.duration()}},"loaderror",{name:"play",hook:function(){t.playing=!0}},{name:"end",hook:function(){t.playing=!1}},{name:"pause",hook:function(){t.playing=!1}},{name:"stop",hook:function(){t.playing=!1,null!=t.$data._howl&&(t.seek=t.$data._howl.seek())}},"mute",{name:"volume",hook:function(){t.volume=t.$data._howl.volume()}},{name:"rate",hook:function(){t.rate=t.$data._howl.rate()}},{name:"seek",hook:function(){t.seek=t.$data._howl.seek()}},"fade"]}},computed:{progress:function(){return 0===this.duration?0:this.seek/this.duration}},created:function(){this._initialize()},beforeDestroy:function(){this._cleanup()},watch:{playing:function(t){this.seek=this.$data._howl.seek(),t?this.$data._polls.seek.id=setInterval(this.$data._polls.seek.hook,this.$data._polls.seek.interval):clearInterval(this.$data._polls.seek.id)},sources:function(t){this._reinitialize()}},methods:{_reinitialize:function(){this._cleanup(!1),this._initialize()},_initialize:function(){var t=this;this.$data._howl=new o.Howl({src:this.sources,volume:this.volume,rate:this.rate,mute:this.muted,autoplay:this.autoplay,loop:this.loop,preload:this.preload,html5:this.html5});var e=this.$data._howl.duration();this.duration=e,e>0&&this.$emit("load"),this.$data._howlEvents=this.$data._howlEvents.map(function(e){"string"==typeof e&&(e={name:e});var i=function(i,n){"function"==typeof e.hook&&e.hook(i,n),t.$emit(e.name,i,n)};return t.$data._howl.on(e.name,i),u()({},e,{handler:i})})},_cleanup:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$data._howl&&this.stop(),c()(this.$data._polls).forEach(function(t){null!=t.id&&clearInterval(t.id)}),this.$data._howlEvents.map(function(e){if(e.handler){t.$data._howl&&t.$data._howl.off(e.name,e.handler);var i=u()({},e);return delete i.handler,i}return e}),this.$data._howl=null,this.duration=0,e&&(this.muted=!1,this.volume=1,this.rate=1)},play:function(){this.playing||this.$data._howl.play()},pause:function(){this.playing&&this.$data._howl.pause()},togglePlayback:function(){this.playing?this.$data._howl.pause():this.$data._howl.play()},stop:function(){this.$data._howl.stop()},mute:function(){this.$data._howl.mute(!0),this.muted=!0},unmute:function(){this.$data._howl.mute(!1),this.muted=!1},toggleMute:function(){this.$data._howl.mute(!this.muted),this.muted=!this.muted,this.$store.commit("setMuted",this.muted)},setVolume:function(t){if("number"!=typeof t)throw new Error("volume must be a number, got a "+(void 0===t?"undefined":s()(t))+" instead");this.$data._howl.volume(a()(t,0,1))},setRate:function(t){if("number"!=typeof t)throw new Error("rate must be a number, got a "+(void 0===t?"undefined":s()(t))+" instead");this.$data._howl.rate(a()(t,.5,4))},toggleLoop:function(){this.beLoop=!this.beLoop,this.$data._howl.loop(this.beLoop),this.$store.commit("setLoop",this.beLoop)},setSeek:function(t){if("number"!=typeof t)throw new Error("seek must be a number, got a "+(void 0===t?"undefined":s()(t))+" instead");this.$data._howl.seek(a()(t,0,this.duration))},setProgress:function(t){if("number"!=typeof t)throw new Error("progress must be a number, got a "+(void 0===t?"undefined":s()(t))+" instead");this.setSeek(a()(t,0,1)*this.duration)}}}},"+skl":function(t,e){},"18/U":function(t,e){},"4nIG":function(t,e){},"5h9E":function(t,e,i){"use strict";function n(t){i("lTsz")}var s=i("syOU"),o=i("UiFM"),r=i("VU/8"),a=n,h=r(s.a,o.a,!1,a,null,null);e.a=h.exports},BZTZ:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"blooming-menu__container"},[i("div",{directives:[{name:"touch",rawName:"v-touch:press",value:t.onOpen,expression:"onOpen",arg:"press"}],staticClass:"blooming-menu__main-container"},[t._t("main")],2),t._v(" "),i("ul",{staticClass:"blooming-menu__items"},[t._t("BloomItems")],2)])},s=[],o={render:n,staticRenderFns:s};e.a=o},Be8m:function(t,e,i){"use strict";function n(t){i("4nIG")}var s=i("jsF3"),o=i("d1ZZ"),r=i("VU/8"),a=n,h=r(s.a,o.a,!1,a,null,null);e.a=h.exports},C46h:function(t,e,i){"use strict";var n=i("ECwB"),s=i("QOex");e.a={name:"BloomItem",mixins:[n.a,s.a]}},ECwB:function(t,e,i){"use strict";var n=i("QOex"),s=i("A5qe"),o=i.n(s);e.a={name:"MenuItem",mixins:[n.a],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1,state:"close"}},mounted:function(){var t=this;console.log("mounted",this.$options.name),this.$on("on-update-active-name",function(e){t.name===e?t.active=!0:t.active=!1}),this.$on("onOpenStateChanged",function(e){t.state=e?"open":"close",e?o()(t.animeParams.expand):o()(t.animeParams.fold)}),this.$on("setAnime",function(e){console.log("setAnime event",e);for(var i in e)e[i].targets=t.$el;t.animeParams=e})}}},Hsuh:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"blooming"}},[i("li",{staticClass:"blooming-menu__item-btn-wrapper",attrs:{state:"fold"}},[t._t("button")],2)])},s=[],o={render:n,staticRenderFns:s};e.a=o},M93x:function(t,e,i){"use strict";function n(t){i("MbUp")}var s=i("xJD8"),o=i("x6Hy"),r=i("VU/8"),a=n,h=r(s.a,o.a,!1,a,null,null);e.a=h.exports},MbUp:function(t,e){},NCgy:function(t,e,i){"use strict";var n=i("Zrlr"),s=i.n(n),o=i("wxAW"),r=i.n(o);i("s6bQ").prototype.vexLine=function(t,e,i,n){return this.path("M"+t+" "+e+"L"+i+" "+n)};var a=function(){function t(e,i,n,o,r){s()(this,t),this.paper=e,this.x=i,this.y=n,this.width=o||100,this.height=r||100,this.num_strings=6,this.num_frets=5,this.spacing=this.width/this.num_strings,this.fret_spacing=this.height/(this.num_frets+3),this.x+=this.spacing/2,this.y+=this.fret_spacing,this.metrics={circle_radius:this.width/28,text_shift_x:this.width/29,text_shift_y:this.height/29,font_size:Math.ceil(this.width/9),bar_shift_x:this.width/28,bridge_stroke_width:Math.ceil(this.height/36),chord_fill:"#444"},this.position=0,this.position_text=0,this.chord=[],this.bars=[]}return r()(t,[{key:"setNumFrets",value:function(t){return this.num_frets=t,this.fret_spacing=this.height/(this.num_frets+2),this}},{key:"setChord",value:function(t,e,i,n,s,o){return this.name=t,this.chord=e,this.position=i||0,this.position_text=s||0,this.bars=n||[],this.tuning=o||["E","A","D","G","B","E"],o===[]&&(this.fret_spacing=this.height/(this.num_frets+1)),this}},{key:"setPositionText",value:function(t){return this.position_text=t,this}},{key:"draw",value:function(){var t=this.spacing,e=this.fret_spacing;this.position<=1?this.paper.vexLine(this.x,this.y-this.metrics.bridge_stroke_width/2,this.x+t*(this.num_strings-1),this.y-this.metrics.bridge_stroke_width/2).attr("stroke-width",this.metrics.bridge_stroke_width):this.paper.text(this.x-this.spacing/2-this.metrics.text_shift_x,this.y+this.fret_spacing/2+this.metrics.text_shift_y+this.fret_spacing*this.position_text,this.position).attr("font-size",this.metrics.font_size);for(var i=0;i<this.num_strings;++i)this.paper.vexLine(this.x+t*i,this.y,this.x+t*i,this.y+e*this.num_frets);for(i=0;i<this.num_frets+1;++i)this.paper.vexLine(this.x,this.y+e*i,this.x+t*(this.num_strings-1),this.y+e*i);if(this.tuning&&this.tuning.length>0){var n=this.tuning;for(i=0;i<n.length;++i){var s=this.paper.text(this.x+this.spacing*i,this.y+(this.num_frets+1)*this.fret_spacing,n[i]);s.attr("font-size",this.metrics.font_size)}}else s=this.paper.text(this.x+(this.width-this.metrics.font_size*this.name.length)/2,this.y+(this.num_frets+1)*this.fret_spacing,this.name),s.attr("font-size",2*this.metrics.font_size);for(i=0;i<this.chord.length;++i)this.lightUp(this.chord[i][0],this.chord[i][1]);for(i=0;i<this.bars.length;++i)this.lightBar(this.bars[i].from_string,this.bars[i].to_string,this.bars[i].fret)}},{key:"lightUp",value:function(t,e){t=this.num_strings-t;var i=0;1===this.position&&1===this.position_text&&(i=this.position_text);var n=!1;"x"===e?(e=0,n=!0):e-=i;var s=this.x+this.spacing*t,o=this.y+this.fret_spacing*e;if(0===e&&(o-=this.metrics.bridge_stroke_width),n)r=this.paper.text(s,o-(this.fret_spacing-this.metrics.font_size),"X").attr({"font-size":this.metrics.font_size});else{var r=this.paper.circle(s,o-Math.floor(this.fret_spacing/2),this.metrics.circle_radius);e>0&&r.attr("fill",this.metrics.chord_fill)}return this}},{key:"lightBar",value:function(t,e,i){1===this.position&&1===this.position_text&&(i-=this.position_text);var n=this.num_strings-t,s=this.num_strings-e,o=this.x+this.spacing*n-this.metrics.bar_shift_x,r=this.x+this.spacing*s+this.metrics.bar_shift_x,a=this.y+this.fret_spacing*(i-1)+this.fret_spacing/4,h=this.y+this.fret_spacing*(i-1)+this.fret_spacing/4*3;return this.paper.rect(o,a,r-o,h-a,this.metrics.circle_radius).attr("fill",this.metrics.chord_fill),this}}]),t}();e.a=a},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("M93x"),o=i("YaEn"),r=i("bGai"),a=i("NYxO"),h=i("BTaQ"),c=i.n(h);n.default.config.productionTip=!1,n.default.use(a.a),n.default.use(r.a),n.default.use(c.a),document.addEventListener("touchmove",function(t){t.preventDefault()});var l=new a.a.Store({state:{muted:!1,beLoop:!1},mutations:{setMuted:function(t,e){this.state.muted=e},setLoop:function(t,e){this.state.beLoop=e}}});new n.default({el:"#app",store:l,router:o.a,template:"<App/>",components:{App:s.a}})},QOex:function(t,e,i){"use strict";function n(t,e,i){this.$children.forEach(function(s){s.$options.name===t?s.$emit.apply(s,[e].concat(i)):n.apply(s,[t,e].concat([i]))})}function s(t,e,i,n){var o=this;if(0===this.$children.lenght)return!1;this.$children.every(function(r,a){var h=r.$options.name;return console.log(o.$options.name,h,t),h===t&&e===a?(r.$emit.apply(r,[i].concat(n)),!1):s.apply(r,[t,e,i].concat([n]))})}e.a={methods:{dispatch:function(t,e,i){for(var n=this.$parent||this.$root,s=n.$options.name;n&&(!s||s!==t);)(n=n.$parent)&&(s=n.$options.name);n&&n.$emit.apply(n,[e].concat(i))},broadcast:function(t,e,i){n.call(this,t,e,i)},sendTo:function(t,e,i,n){console.log("sendTo",t,e,i,n),s.call(this,t,e,i,n)}}}},RUMo:function(t,e,i){"use strict";function n(t){i("bZH/")}var s=i("C46h"),o=i("Hsuh"),r=i("VU/8"),a=n,h=r(s.a,o.a,!1,a,null,null);e.a=h.exports},RqHP:function(t,e,i){"use strict";function n(t){if("N"===t)return null;for(var e in u)for(var i in u[e].chords)if(i===t)return u[e].chords[i];var n=t.split(":"),o=function(t){var e=99,i="N";for(var n in m)for(var s in m[n])if(s===t&&m[n][s]<e){e=m[n][s],i=n;break}return i}(n[0]),r=o+":"+n[1];return console.log(t,n[0],o,r),s(n[0],o,r)}function s(t,e,i){console.log(t,e,i),e=e.toUpperCase();var n=m[e][t],s=d[i];return{name:t+s.name,chord:s.chord,position:n,position_text:s.position_text,bars:s.bars}}function o(t,e){return r(t,n(e))}function r(t,e){var i=l(t,60,60),n=new h.a(i,10,0,50,60);n.setChord(e.name,e.chord,e.position,e.bars,e.position_text,[]),n.draw(),t.className+=" rendered"}function a(t){t=t||document,c.each(t.getElementsByClassName("chord"),function(t){t.className.indexOf("rendered")>-1||o(t,t.getAttribute("chord"))})}var h=i("NCgy"),c=i("rdLu"),l=(i.n(c),i("s6bQ")),u=[{section:"Open Chords",description:"These chords are played in open position, and generally\n                 include open strings.",chords:{"C:maj":{name:"C",chord:[[1,0],[2,1],[3,0],[4,2],[5,3]],position:0,bars:[]},"D:maj":{name:"D",chord:[[1,2],[2,3],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:maj":{name:"E",chord:[[1,0],[2,0],[3,1],[4,2],[5,2],[6,0]],position:0,bars:[]},"G:maj":{name:"G",chord:[[1,3],[2,3],[3,0],[4,0],[5,2],[6,3]],position:0,bars:[]},"A:maj":{name:"A",chord:[[1,0],[2,2],[3,2],[4,2],[5,0],[6,"x"]],position:0,bars:[]},"D:min":{name:"Dm",chord:[[1,1],[2,3],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:min":{name:"Em",chord:[[1,0],[2,0],[3,0],[4,2],[5,2],[6,0]],position:0,bars:[]},"A:min":{name:"Am",chord:[[1,0],[2,1],[3,2],[4,2],[5,0],[6,"x"]],position:0,bars:[]},"C:7":{name:"C7",chord:[[1,0],[2,1],[3,3],[4,2],[5,3],[6,"x"]],position:0,bars:[]},"D:7":{name:"D7",chord:[[1,2],[2,1],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:7":{name:"E7",chord:[[1,0],[2,3],[3,1],[4,0],[5,2],[6,0]],position:0,bars:[]},"G:7":{name:"G7",chord:[[1,1],[2,0],[3,0],[4,0],[5,2],[6,3]],position:0,bars:[]},"A:7":{name:"A7",chord:[[1,0],[2,2],[3,0],[4,2],[5,0],[6,"x"]],position:0,bars:[]},"D:min7":{name:"Dm7",chord:[[1,1],[2,1],[3,2],[4,0],[5,"x"],[6,"x"]],position:0,bars:[]},"E:min7":{name:"Em7",chord:[[1,0],[2,3],[3,0],[4,2],[5,2],[6,0]],position:0,bars:[]},"A:min7":{name:"Am7",chord:[[1,0],[2,1],[3,0],[4,2],[5,0],[6,"x"]],position:0,bars:[]}}}],d={"E:maj":{name:"",chord:[[3,2],[4,3],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:min":{name:"m",chord:[[4,3],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:7":{name:"7",chord:[[2,4],[3,2],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:min7":{name:"m7",chord:[[2,4],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:maj7":{name:"maj7",chord:[[1,"x"],[2,1],[3,2],[4,2],[5,"x"],[6,1]]},"E:dim":{name:"dim",chord:[[1,"x"],[3,2],[5,"x"],[6,2]],position_text:1,bars:[{from_string:4,to_string:2,fret:1}]},"E:min7b5":{name:"m7b5",chord:[[1,"x"],[2,1],[3,2],[4,2],[5,"x"],[6,2]],position_text:1},"E:sus4":{name:"sus4",chord:[],bars:[{from_string:6,to_string:1,fret:1},{from_string:5,to_string:3,fret:3}]},"E:7sus4":{name:"7sus4",chord:[[3,3],[5,3]],bars:[{from_string:6,to_string:1,fret:1}]},"E:13":{name:"13",chord:[[1,"x"],[2,4],[3,3],[4,2],[5,"x"],[6,2]],position_text:1},"A:maj":{name:"",chord:[[2,3],[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:min":{name:"m",chord:[[2,2],[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:7":{name:"7",chord:[[2,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:min7":{name:"m7",chord:[[2,2],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:min7b5":{name:"m7b5",chord:[[2,2],[4,2],[6,"x"]],bars:[{from_string:5,to_string:3,fret:1}]},"A:dim":{name:"dim",chord:[[1,"x"],[2,3],[3,1],[4,3],[5,2],[6,"x"]],position_text:1},"A:maj7":{name:"maj7",chord:[[2,3],[3,2],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:sus2":{name:"sus2",chord:[[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:sus4":{name:"sus4",chord:[[2,4],[3,3],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:7sus4":{name:"7sus4",chord:[[2,4],[4,3],[6,"x"]],bars:[{from_string:5,to_string:1,fret:1}]},"A:9":{name:"9",chord:[[1,"x"],[2,2],[3,2],[4,1],[5,2],[6,"x"]],position_text:1},"A:7b9":{name:"7b9",chord:[[1,"x"],[2,1],[3,2],[4,1],[5,2],[6,"x"]],position_text:1},"A:7#9":{name:"7#9",chord:[[1,"x"],[2,3],[3,2],[4,1],[5,2],[6,"x"]],position_text:1},"A:13":{name:"13",chord:[[1,4],[2,4],[3,2],[4,4],[5,2],[6,"x"]],position_text:1}},m={E:{A:5,"A#":6,Bb:6,B:7,C:8,"C#":9,Db:9,D:10,"D#":11,Eb:11,E:12,F:1,"F#":2,Gb:2,G:3,"G#":4,Ab:4},A:{A:12,"A#":1,Bb:1,B:2,C:3,"C#":4,Db:4,D:5,"D#":6,Eb:6,E:7,F:8,"F#":9,Gb:9,G:10,"G#":11,Ab:11}};e.a=a},UiFM:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"lyric",staticClass:"lyricWrap",style:{height:t.lyricHeight+"px"}},[i("ul",{staticClass:"scroller"},[t._l(t.lyricHtml,function(e){return i("p",{directives:[{name:"touch",rawName:"v-touch:press",value:t.playFromHere,expression:"playFromHere",arg:"press"},{name:"touch",rawName:"v-touch:swipeleft",value:t.onSwipeLeft,expression:"onSwipeLeft",arg:"swipeleft"},{name:"touch",rawName:"v-touch:swiperight",value:t.onSwipeRight,expression:"onSwipeRight",arg:"swiperight"}],key:e.time,staticClass:"lyricRow",attrs:{time:e.time,focus:e.focus},domProps:{innerHTML:t._s(e.lrcHtml)}})}),t._v(" "),i("p",{staticClass:"lyricRow"},[t._v("-- 让子弹先飞一会儿 --")])],2)])},s=[],o={render:n,staticRenderFns:s};e.a=o},YRfK:function(t,e,i){"use strict";var n=i("fpYR"),s=i("RUMo");n.a.Item=s.a,e.a=n.a},YaEn:function(t,e,i){"use strict";var n=i("7+uW"),s=i("/ocq"),o=i("YRfK");n.default.use(s.a),e.a=new s.a({routes:[{path:"/Menu",name:"Menu",component:o.a}]})},YtVm:function(t,e,i){"use strict";var n=i("Zrlr"),s=i.n(n),o=i("wxAW"),r=i.n(o),a=function(){function t(){s()(this,t),this.renderLine=function(t){for(var e=[],i=/\$([a-zA-Z0-9#:]+)/g,n=0,s=void 0;null!==(s=i.exec(t));){s.index===i.lastIndex&&i.lastIndex++;var o=t.substring(n,s.index);o.trim().length>0?e.push('<span class="lyric">'+o+"</span>"):0!==n&&e.push('<span class="lyric">&nbsp;</span>');var r=s[1];e.push('\n        <span class="chordWrap">\n          <ruby>\n            <span class="chord" chord="'+r+'"></span>\n            <span style="display: none;">'+r+"</span>\n          </ruby>\n        </span>\n        "),n=i.lastIndex}return n<t.length&&(o=t.substring(n,t.length),o.trim().length>0?e.push('<span class="lyric">'+o+"</span>"):0!==n&&e.push('<span class="lyric">&nbsp;</span>')),e.join("")}}return r()(t,[{key:"parse",value:function(t,e){for(var i=e||this.renderLine,n=[],s=t.split("\n"),o=s.length,r=0;r<o;r++){var a=s[r].match(/\[(\d{2}):(\d{2})\.(\d{2,3})]/g),h=s[r].replace(/\[(\d{2}):(\d{2})\.(\d{2,3})]/g,"").replace(/^\s+|\s+$/g,"");if(null!=a)for(var c=a.length,l=0;l<c;l++){var u=/\[(\d{2}):(\d{2})\.(\d{2,3})]/.exec(a[l]),d=60*u[1]+parseInt(u[2])+parseInt(u[3])/(2===(u[3]+"").length?100:1e3);n.push({time:d,lrcHtml:i(h),focus:!1})}}return n.sort(function(t,e){return t.time-e.time}),n}}]),t}();e.a=new a},bGai:function(t,e,i){"use strict";var n=i("bHfy"),s=i.n(n),o=i("rjFZ"),r=i("iGUu"),a=i.n(r),h=i("+skl"),c=(i.n(h),window.devicePixelRatio||(window.matchMedia&&window.matchMedia("(min-resolution: 2dppx), (-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches?2:1)||1);e.a={install:function(t,e){console.log("install components",screen.height),t.calc=function(t){return console.log("vue.calc"),t*c},t.directive("touch",o.a),t.mixin({created:function(){}}),t.prototype.$calc=function(t){return t*c},t.prototype.$screenHeight=function(){return Screen.height},t.prototype.$screenWidth=function(){return Screen.width},t.prototype.$toggleClass=function(t,e){var i=t.className.split(/\s+/),n=i.indexOf(e);-1===n?i.push(e):i.splice(n),t.className=i.join(" ")},t.prototype.$IScroll=s.a,t.prototype.$intro=function(){return console.log(a.a),a.a.introJs.apply(a.a,arguments)}}}},bKQP:function(t,e){},"bZH/":function(t,e){},d1ZZ:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"left-corner"},[t._v("telesoho")]),t._v(" "),i("ChordStrip",{attrs:{chordSrc:this.chordFile,seek:t.seek,duration:t.duration}}),t._v(" "),i("Lyric",{attrs:{"data-intro":"长按歌词：跳转到该歌词处<br>右划歌词一次：选择重复播放范围的起始歌词<br>右划歌词二次：选择重复播放范围的结束歌词<br>左划歌词：取消播放范围",lyricSrc:this.lyricFile,seek:t.seek,duration:t.duration},on:{playFromHere:t.playFromHere}}),t._v(" "),i("BloomMenu",{ref:"menu"},[i("i-circle",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.togglePlayback,expression:"togglePlayback",arg:"tap"}],attrs:{slot:"main",percent:100*t.progress,size:50,"trail-width":10,"stroke-width":10,"data-disable-interaction":"false","data-highlightClass":"intro-highlight","data-tooltipClass":"intro-tooltip-play","data-intro":"长按：显示/隐藏菜单<br>点击：播放/暂停"},slot:"main"},[i("Icon",{attrs:{size:20,type:t.playing?"pause":"play"}})],1),t._v(" "),i("BloomItem",{ref:"loop",attrs:{slot:"BloomItems",name:"loop","data-intro":"点击：循环播放/单曲播放","data-tooltipClass":"intro-tooltip-loop"},slot:"BloomItems"},[i("Button",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.toggleLoop,expression:"toggleLoop",arg:"tap"}],staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:this.$store.state.beLoop?"loop":"refresh"},slot:"button"})],1),t._v(" "),i("BloomItem",{ref:"muted",attrs:{slot:"BloomItems",name:"muted","data-intro":"点击：静音/非静音","data-tooltipClass":"intro-tooltip-muted"},slot:"BloomItems"},[i("Button",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.toggleMute,expression:"toggleMute",arg:"tap"}],staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:this.$store.state.muted?"android-volume-off":"android-volume-up"},slot:"button"})],1),t._v(" "),i("BloomItem",{ref:"help",attrs:{slot:"BloomItems",name:"help","data-intro":"点击：显示帮助","data-tooltipClass":"intro-tooltip-help"},slot:"BloomItems"},[i("Button",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.onHelp,expression:"onHelp",arg:"tap"}],staticClass:"blooming-menu__item-btn",attrs:{slot:"button",type:"ghost",shape:"circle",icon:"help"},slot:"button"})],1)],1)],1)},s=[],o={render:n,staticRenderFns:s};e.a=o},fpYR:function(t,e,i){"use strict";function n(t){i("nUok")}var s=i("nLL6"),o=i("BZTZ"),r=i("VU/8"),a=n,h=r(s.a,o.a,!1,a,null,null);e.a=h.exports},jkcQ:function(t,e,i){"use strict";function n(t){i("+nRZ")}var s=i("krKv"),o=i("oYQN"),r=i("VU/8"),a=n,h=r(s.a,o.a,!1,a,null,null);e.a=h.exports},jsF3:function(t,e,i){"use strict";var n=i("+oQU"),s=i("jkcQ"),o=i("5h9E"),r=i("YRfK"),a=i("18/U"),h=(i.n(a),i("bKQP"));i.n(h);e.a={name:"AudioPlayer",props:{lyricFile:"",chordFile:""},mixins:[n.a],components:{Lyric:o.a,ChordStrip:s.a,BloomMenu:r.a,BloomItem:r.a.Item},data:function(){return{lyric:"",isHelp:!1,bloomMenuIsOpen:!1,bloomItem:[{name:"muted",icon:this.$store.state.muted?"android-volume-off":"android-volume-up",onTap:this.toggleMute},{name:"loop",icon:this.$store.state.beLoop?"loop":"refresh",onTap:this.toggleLoop}]}},mounted:function(){var t=this.sources[0].split("\\").pop().split("/").pop();document.title=t},methods:{playFromHere:function(t){console.log(t),this.setSeek(t)},onHelp:function(){console.log(this.$intro),this.$intro().setOptions({showStepNumbers:!1,showProgress:!1,showBullets:!1,hidePrev:!0,hideNext:!0,nextLabel:">",prevLabel:"<",doneLabel:"完成",skipLabel:"取消"}).start()}}}},krKv:function(t,e,i){"use strict";function n(t){function e(t,e){for(var i=["C","C#/Bb","D","D#/Eb","E","F","F#/Gb","G","G#/Ab","A","A#/Bb","B"],n=i.length,s=0;s<n&&t!==i[s]&&(2!==t.length||-1===i[s].search(t));s++);(s-=e)<0&&(s=n+s);var o=i[s];return 1===o.length?o:o.substr(0,2)}var i=null;i="string"==typeof t?JSON.parse(t):t;for(var n in i){var s=i[n];s.name=function(t){if("N"===t)return"Intro";var i=t.split(":"),n=e(i[0],3),s=i[1];return s=s.replace("maj","").replace("min","m"),n+s}(s.chord),s.width=s.end-s.start}return i}var s=(i("RqHP"),i("mtWM")),o=i.n(s),r=i("rdLu");i.n(r),i("oAV5");e.a={name:"ChordStrip",props:{chordSrc:[String],seek:Number,duration:Number,width:{type:Number,default:screen.width}},data:function(){return{focusIndex:0,transformX:0,chordData:[{start:0,end:0,chord:"",chordName:"",focus:!1}]}},created:function(){this.loadChords(this.chordSrc)},mounted:function(){if(!this.iscroll){var t=this.$IScroll;this.iscroll=new t(this.$refs.ChordStrip,{scrollX:!0,scrollY:!1,mouseWheel:!1})}},computed:{chordStripStyle:function(){return{width:1e3*this.duration+"px",transform:"translateX(-"+100*this.seek+"px)"}},position:function(){return 100*this.seek},chordHtml:function(){return this.chordData},chordWidth:function(){return isNaN(window.innerWidth)?window.clientWidth:window.innerWidth}},watch:{},updated:function(){},methods:{focusIn:function(t){t<0||t>=this.lyricData.length||this.focusIndex===t||(console.log(this.focusIndex,t),null!==this.focusIndex&&(this.lyricData[this.focusIndex].focus=!1),this.lyricData[t].focus=!0,this.focusIndex=t,this.scrollTo(this.lyricData[t].time))},loadChords:function(t){var e=this;return o.a.get(t).then(function(t){e.focusIndex=null,e.chordData=n(t.data)}).catch(function(t){console.log("ERROR: load chord failed",t);e.chordData=JSON.parse('[{"chord": "N", "start": 0, "end": 0}]')})}}}},lTsz:function(t,e){},nLL6:function(t,e,i){"use strict";var n=i("xT/P"),s=i("QOex");e.a={name:"BloomMenu",mixins:[n.a,s.a]}},nUok:function(t,e){},oAV5:function(t,e,i){"use strict";function n(t,e){if(t.hasAttribute(e))return t.removeAttribute(e),!1}function s(t,e,i){if(t.hasAttribute(e))t.setAttribute(e,i);else{var n=document.createAttribute(e);n.value=i,t.setAttributeNode(n)}return t.getAttribute(e)}e.a=n,e.b=s},oYQN:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"ChordStrip",staticClass:"chord-strip"},[i("div",{staticClass:"chord-strip--center-line"}),t._v(" "),i("div",{staticClass:"chord-strip--chords",style:t.chordStripStyle},t._l(t.chordHtml,function(e){return i("div",{key:e.start,staticClass:"strip-chord",style:{width:e.width+"px"},attrs:{current:e.start<t.position&&t.position<e.end}},[i("span",{staticClass:"chord-name"},[t._v(t._s(e.name))])])}))])},s=[],o={render:n,staticRenderFns:s};e.a=o},rjFZ:function(t,e,i){"use strict";function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){var e=t.direction;if("string"==typeof e){var i="DIRECTION_"+e.toUpperCase();h.indexOf(e)>-1&&r.a.hasOwnProperty(i)?t.direction=r.a[i]:console.warn("[vue-touch] invalid direction: "+e)}}var o=i("rxKx"),r=i.n(o),a=["tap","pinch","press","pressup","rotate","swipe","swipeleft","swiperight","swipeup","swipedown","pan","panleft","panright","panup","pandown"],h=["up","down","left","right","horizontal","vertical","all"];e.a={bind:function(t,e,i,o){t.hammer||(t.hammer=new r.a.Manager(t));var h=t.hammer,c=e.arg;c||console.warn("[vue-touch] event type argument is required.");for(var l=0;l<a.length;l++)if(0===c.indexOf(a[l])){var u=a[l];break}if(!u)return void console.warn("[vue-touch] invalid event type: "+c);var d=h.get(u);d||(d=new(r.a[n(u)]),d.recognizeWith(h.recognizers),h.add(d));var m=t.hammerOptions&&t.hammerOptions[u];m&&(s(m),d.set(m)),t.handler&&h.off(c,t.handler),"function"!=typeof e.value?(t.handler=null,console.warn("[vue-touch] invalid handler function for v-touch: ",e.value)):h.on(c,t.handler=e.value)},inserted:function(t,e){},update:function(t,e,i,n){},unbind:function(t,e){t.hammer&&t.hammer.destroy()}}},syOU:function(t,e,i){"use strict";function n(t){for(;t&&!t.getAttribute("time");)t=t.parentElement;return t}var s=i("RqHP"),o=i("mtWM"),r=i.n(o),a=i("YtVm"),h=i("rdLu"),c=i.n(h),l=i("oAV5");e.a={props:{lyricSrc:[String],seek:Number,duration:Number,height:{type:Number,default:screen.height}},data:function(){return{focusIndex:0,lyricData:[{time:0,lrcHtml:"",focus:!1}],repeat:{startIndex:-1,endIndex:-1}}},created:function(){this.loadLyric(this.lyricSrc)},mounted:function(){if(!this.iscroll){var t=this.$IScroll;this.iscroll=new t(this.$refs.lyric,{mouseWheel:!0,scrollbars:!0})}},computed:{lyricHtml:function(){return this.lyricData},lyricHeight:function(){return isNaN(window.innerHeight)?window.clientHeight:window.innerHeight}},watch:{seek:function(t,e){null===this.focusIndex&&(this.focusIndex=0);var i=this.lyricData[this.focusIndex].time;if(-1!==this.repeat.endIndex&&-1!==this.repeat.startIndex&&(this.focusIndex<this.repeat.startIndex||this.focusIndex>this.repeat.endIndex))return this.focusIn(this.repeat.startIndex),void this.$emit("playFromHere",this.lyricData[this.repeat.startIndex].time);if(Math.abs(t-i)>1)for(var n=this.lyricData.length-1;n>0;n--){var s=this.lyricData[n];if(t>=s.time)return this.focusIn(n)}}},updated:function(){this.lyricData.length>0&&null===this.focusIndex&&(Object(s.a)(this.$refs.lyric),this.iscroll.refresh())},methods:{getNextLyricTime:function(t){for(var e=this.lyricData.length-1;e>0;e--){if(t>=this.lyricData[e].time){return e+1===this.lyricDat.length?this.duration:this.lyricData[e].time}}},getElementByTime:function(t){var e=".lyricRow[time='"+t+"']",i=this.$refs.lyric.querySelector(e);return i||(console.log("ERROR: Cannot find the time in lyric"),null)},scrollTo:function(t){if(t){var e=this.getElementByTime(t);this.iscroll.scrollToElement(e,1e3,null,-50,this.$IScroll.utils.ease.circular)}},focusIn:function(t){t<0||t>=this.lyricData.length||this.focusIndex===t||(console.log(this.focusIndex,t),null!==this.focusIndex&&(this.lyricData[this.focusIndex].focus=!1),this.lyricData[t].focus=!0,this.focusIndex=t,this.scrollTo(this.lyricData[t].time))},loadLyric:function(t){var e=this;return r.a.get(t).then(function(t){var i=t.data;e.focusIndex=null,e.lyricData=a.a.parse(i)}).catch(function(t){console.log("ERROR: load lyric failed",t);e.lyricData=a.a.parse("[00:00.00]Not available")})},setAttributeByTime:function(t,e,i){var n=".lyricRow[time='"+t+"']",s=this.$refs.lyric.querySelector(n);if(!s)return void console.log("ERROR: Cannot find the time in lyric");l.b(s,e,i)},removeAttributeByTime:function(t,e){var i=".lyricRow[time='"+t+"']",n=this.$refs.lyric.querySelector(i);if(!n)return void console.log("ERROR: Cannot find the time in lyric");l.a(n,e)},showRepeat:function(){if(-1!==this.repeat.startIndex){if(-1===this.repeat.endIndex)return void this.setAttributeByTime(this.lyricData[this.repeat.startIndex].time,"repeat",!1);for(var t=this.repeat.startIndex;t<=this.repeat.endIndex;t++)this.setAttributeByTime(this.lyricData[t].time,"repeat",!0)}},setNewRepeat:function(t){this.clearAttrib("repeat"),this.repeat=t,this.showRepeat()},onSwipeRight:function(t){console.log("swipe right to mark for repeating");var e=n(t.target);if(e){var i=Number(e.getAttribute("time")),s=c.a.findIndex(this.lyricData,{time:i});if(-1===s)return void console.log("ERROR: Cannot found index of element time");var o=this.repeat;-1===o.startIndex?o.startIndex=s:-1===o.endIndex?(o.endIndex=s,o.endIndex<o.startIndex&&(o.endIndex=o.startIndex,o.startIndex=s)):s<o.startIndex?o.startIndex=s:s>o.endIndex?o.endIndex=s:s<=o.endIndex&&(o.startIndex=s),this.setNewRepeat(o)}},clearAttrib:function(t){for(var e=0;e<this.lyricData.length;e++){var i=this.lyricData[e].time;this.removeAttributeByTime(i,t)}},onSwipeLeft:function(t){console.log("swipe left to clean repeat"),this.clearAttrib("repeat"),this.repeat.startIndex=-1,this.repeat.endIndex=-1},playFromHere:function(t){var e=n(t.target);if(e){var i=e.getAttribute("time"),s=Number(i);this.$emit("playFromHere",s)}}}}},x6Hy:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("AudioPlayer",{attrs:{sources:t.audioSources,lyricFile:t.lyricFile,chordFile:t.chordFile}})],1)},s=[],o={render:n,staticRenderFns:s};e.a=o},xJD8:function(t,e,i){"use strict";var n=i("Be8m");e.a={name:"app",data:function(){return{audioSources:["./static/千住明-涙そうそう.mp3"],lyricFile:"./static/千住明-涙そうそう.1.lrc",chordFile:"./static/song.chord.json"}},components:{AudioPlayer:n.a},methods:{}}},"xT/P":function(t,e,i){"use strict";function n(t){return t*(Math.PI/180)}e.a={name:"BloomMenu",props:{startAngle:{type:Number,default:180},endAngle:{type:Number,default:270},radius:{type:Number,default:50},itemAnimationDelay:{type:Number,default:40},animationDuration:{type:Number,default:100}},mounted:function(){if(console.log("mounted",this.$options.name),!this.$slots.BloomItems)return void console.log("ERROR: you must define some item.");this.isOpen=!1;for(var t=(this.endAngle-this.startAngle)/(this.$slots.BloomItems.length-1),e=this.startAngle,i=0;i<this.$slots.BloomItems.length;i++){var s=this.radius*Math.cos(n(e)),o=this.radius*Math.sin(n(e)),r=Number(s.toFixed(2)),a=Number(o.toFixed(2)),h=1.2*r,c=1.2*a,l=[{value:0,duration:0},{value:h,duration:.7*this.animationDuration},{value:r,duration:.3*this.animationDuration,easing:"easeOutBack"}],u=[{value:0,duration:0},{value:c,duration:.7*this.animationDuration},{value:a,duration:.3*this.animationDuration,easing:"easeOutBack"}],d=[{value:r,duration:0},{value:h,duration:.7*this.animationDuration},{value:0,duration:.3*this.animationDuration,easing:"easeOutBack"}],m=[{value:a,duration:0},{value:c,duration:.7*this.animationDuration},{value:0,duration:.3*this.animationDuration,easing:"easeOutBack"}];this.$emit.apply(this.$slots.BloomItems[i].componentInstance,["setAnime"].concat({expand:{translateX:l,translateY:u,delay:i*this.itemAnimationDelay},fold:{translateX:d,translateY:m,delay:i*this.itemAnimationDelay}})),e+=t}},updated:function(){},methods:{onOpen:function(){var t=this;this.isBeingAnimated||(this.isOpen=!this.isOpen,this.isBeingAnimated=!0,setTimeout(function(){t.isBeingAnimated=!1},1e3),this.broadcast("BloomItem","onOpenStateChanged",this.isOpen))}}}}},["NHnr"]);
//# sourceMappingURL=app.29ca7fa86e81499e6bff.js.map